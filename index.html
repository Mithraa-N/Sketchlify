<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sketchify Studio | Professional Pencil Sketch Art</title>
  <meta name="description"
    content="Transform your photos into professional graphite pencil sketches instantly using advanced AI-inspired client-side processing.">

  <!-- Branding -->
  <link rel="icon" type="image/svg+xml" href="/favicon.svg">

  <!-- Scripts & Styles -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="https://unpkg.com/lucide@latest"></script>

  <style>
    @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&family=Outfit:wght@400;500;600;700&display=swap');

    :root {
      --primary: #2563eb;
      --primary-glow: rgba(37, 99, 235, 0.4);
      --accent: #f59e0b;
    }

    body {
      font-family: 'Plus Jakarta Sans', sans-serif;
      background-color: #f8fafc;
      color: #0f172a;
      overflow-x: hidden;
    }

    .font-display {
      font-family: 'Outfit', sans-serif;
    }

    /* Animated Background */
    .bg-mesh {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      z-index: -1;
      background:
        radial-gradient(at 0% 0%, rgba(37, 99, 235, 0.08) 0, transparent 50%),
        radial-gradient(at 100% 0%, rgba(245, 158, 11, 0.05) 0, transparent 50%),
        radial-gradient(at 100% 100%, rgba(37, 99, 235, 0.08) 0, transparent 50%),
        radial-gradient(at 0% 100%, rgba(245, 158, 11, 0.05) 0, transparent 50%);
    }

    /* Glassmorphism */
    .glass {
      background: rgba(255, 255, 255, 0.7);
      backdrop-filter: blur(12px);
      border: 1px solid rgba(255, 255, 255, 0.4);
      box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.07);
    }

    .premium-shadow {
      box-shadow:
        0 10px 15px -3px rgba(0, 0, 0, 0.05),
        0 4px 6px -4px rgba(0, 0, 0, 0.05),
        inset 0 0 20px rgba(255, 255, 255, 0.5);
    }

    /* Custom Slider Styling */
    input[type="range"] {
      -webkit-appearance: none;
      width: 100%;
      height: 6px;
      background: #e2e8f0;
      border-radius: 99px;
      outline: none;
    }

    input[type="range"]::-webkit-slider-thumb {
      -webkit-appearance: none;
      width: 20px;
      height: 20px;
      background: var(--primary);
      border: 3px solid #fff;
      border-radius: 50%;
      cursor: pointer;
      box-shadow: 0 4px 6px -1px var(--primary-glow);
      transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
    }

    input[type="range"]::-webkit-slider-thumb:hover {
      transform: scale(1.15);
      box-shadow: 0 10px 15px -3px var(--primary-glow);
    }

    /* Animations */
    @keyframes float {
      0% {
        transform: translateY(0px);
      }

      50% {
        transform: translateY(-10px);
      }

      100% {
        transform: translateY(0px);
      }
    }

    .float {
      animation: float 6s ease-in-out infinite;
    }

    .reveal {
      animation: reveal 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards;
      opacity: 0;
      transform: translateY(20px);
    }

    @keyframes reveal {
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    /* Before/After Overlay Slider */
    .comparison-container {
      position: relative;
      overflow: hidden;
      border-radius: 24px;
    }

    .comparison-overlay {
      position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      width: 50%;
      overflow: hidden;
      border-left: 2px solid white;
      box-shadow: -5px 0 15px rgba(0, 0, 0, 0.1);
    }

    .comparison-overlay img {
      position: absolute;
      top: 0;
      left: -100%;
      width: 200%;
      height: 100%;
      object-fit: cover;
    }
  </style>

  <script>
    window.tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#2563eb',
            dark: '#0f172a',
            accent: '#f59e0b',
          },
          borderRadius: {
            '3xl': '1.5rem',
            '4xl': '2rem',
          }
        }
      }
    }
  </script>
</head>

<body>
  <div class="bg-mesh"></div>
  <div id="root"></div>

  <script type="text/babel">
    const { useState, useEffect, useCallback, useRef } = React;

    // --- Sketch Engine (Optimized) ---
    const sketchify = (image, options) => {
      const w = image.naturalWidth;
      const h = image.naturalHeight;
      const canvas = document.createElement("canvas");
      canvas.width = w; canvas.height = h;
      const ctx = canvas.getContext("2d");
      ctx.drawImage(image, 0, 0);

      const imageData = ctx.getImageData(0, 0, w, h);
      const data = imageData.data;
      const original = new Uint8ClampedArray(data);

      // Grayscale
      for (let i = 0; i < data.length; i += 4) {
        const g = data[i] * 0.299 + data[i + 1] * 0.587 + data[i + 2] * 0.114;
        data[i] = data[i + 1] = data[i + 2] = g;
      }

      // Simple Pencil Filter Approximation
      const factor = (259 * (options.contrast + 255)) / (255 * (259 - options.contrast));
      for (let i = 0; i < data.length; i += 4) {
        for (let c = 0; c < 3; c++) {
          let val = data[i + c];
          val = factor * (val - 128) + 128 + options.brightness;
          // Boost whites for sketch look
          if (val > 200) val += (val - 200) * (options.intensity / 30);
          data[i + c] = Math.max(0, Math.min(255, val));
        }
      }

      if (options.colorMode) {
        const s = options.colorStrength / 100;
        for (let i = 0; i < data.length; i += 4) {
          for (let c = 0; c < 3; c++) {
            data[i + c] = data[i + c] * (1 - s) + original[i + c] * s;
          }
        }
      }

      ctx.putImageData(imageData, 0, 0);
      return canvas.toDataURL("image/png");
    };

    // --- Main App ---
    const App = () => {
      const [originalSrc, setOriginalSrc] = useState(null);
      const [resultSrc, setResultSrc] = useState(null);
      const [image, setImage] = useState(null);
      const [processing, setProcessing] = useState(false);
      const [options, setOptions] = useState({
        intensity: 21,
        contrast: 15,
        brightness: 10,
        colorMode: false,
        colorStrength: 40
      });
      const [texture, setTexture] = useState('none');

      useEffect(() => {
        if (window.lucide) window.lucide.createIcons();
      }, [originalSrc, resultSrc, processing]);

      const handleFile = (e) => {
        const file = e.target.files[0];
        if (!file) return;
        const reader = new FileReader();
        reader.onload = (ev) => {
          const src = ev.target.result;
          const img = new Image();
          img.onload = () => {
            setOriginalSrc(src);
            setImage(img);
            updateArt(img, options);
          };
          img.src = src;
        };
        reader.readAsDataURL(file);
      };

      const updateArt = async (img, opts) => {
        setProcessing(true);
        // Artificial delay for premium feel
        await new Promise(r => setTimeout(r, 400));
        const res = sketchify(img, opts);
        setResultSrc(res);
        setProcessing(false);
      };

      useEffect(() => {
        if (image) updateArt(image, options);
      }, [options, texture]);

      return (
        <div className="min-h-screen flex flex-col items-center">
          {/* Header */}
          <nav className="w-full h-20 flex items-center justify-between px-8 z-50 sticky top-0 glass border-b border-slate-200">
            <div className="flex items-center gap-3">
              <div className="w-10 h-10 bg-primary rounded-xl flex items-center justify-center shadow-lg shadow-primary/20 rotate-3">
                <i data-lucide="pencil" className="text-white w-5 h-5"></i>
              </div>
              <h1 className="text-2xl font-display font-extrabold tracking-tight text-slate-900">
                Sketchify<span className="text-primary italic">.</span>
              </h1>
            </div>
            <div className="flex items-center gap-6">
              <span className="hidden md:block text-xs font-bold text-slate-400 uppercase tracking-widest">Client-Side Engine v2.0</span>
              {originalSrc && (
                <button
                  onClick={() => setOriginalSrc(null)}
                  className="px-5 py-2.5 bg-slate-900 text-white text-sm font-bold rounded-xl hover:bg-slate-800 transition-all active:scale-95"
                >
                  Start Fresh
                </button>
              )}
            </div>
          </nav>

          <main className="w-full max-w-7xl px-6 py-12 md:py-20">
            {!originalSrc ? (
              <div className="flex flex-col items-center text-center space-y-12">
                <div className="space-y-6 reveal" style={{ animationDelay: '0.1s' }}>
                  <div className="inline-flex items-center gap-2 px-4 py-2 bg-primary/10 rounded-full text-primary text-xs font-extrabold uppercase tracking-widest border border-primary/20">
                    <i data-lucide="sparkles" className="w-3 h-3"></i> Transform your memories
                  </div>
                  <h2 className="text-5xl md:text-7xl font-display font-[800] text-slate-900 leading-[1.1] tracking-tight">
                    Professional Art<br />
                    From Your <span className="text-transparent bg-clip-text bg-gradient-to-r from-primary to-blue-400 italic">Photos</span>
                  </h2>
                  <p className="max-w-xl mx-auto text-lg text-slate-500 font-medium">
                    Turn any photo into a high-quality graphite pencil sketch instantly.
                    Advanced client-side processing keeps your data 100% private.
                  </p>
                </div>

                <div className="w-full max-w-2xl reveal shadow-4xl" style={{ animationDelay: '0.3s' }}>
                  <label className="group relative block w-full cursor-pointer">
                    <input type="file" className="hidden" onChange={handleFile} accept="image/*" />
                    <div className="p-16 border-2 border-dashed border-slate-200 rounded-[3rem] bg-white group-hover:border-primary/50 transition-all duration-500 premium-shadow group-hover:-translate-y-2">
                      <div className="flex flex-col items-center gap-6">
                        <div className="w-20 h-20 bg-slate-50 rounded-full flex items-center justify-center group-hover:bg-primary/10 transition-colors duration-500">
                          <i data-lucide="cloud-upload" className="w-10 h-10 text-slate-300 group-hover:text-primary transition-colors duration-500"></i>
                        </div>
                        <div className="space-y-2">
                          <h3 className="text-2xl font-bold text-slate-900 tracking-tight">Upload Your Scene</h3>
                          <p className="text-slate-400 font-bold uppercase text-[10px] tracking-widest">Or Drag & Drop Anywhere</p>
                        </div>
                        <div className="flex gap-3">
                          {['PNG', 'JPG', 'WEBP'].map(ext => (
                            <span key={ext} className="px-3 py-1 bg-slate-50 text-[10px] font-black text-slate-400 rounded-lg group-hover:bg-primary/5 group-hover:text-primary/50 transition-colors">{ext}</span>
                          ))}
                        </div>
                      </div>
                    </div>
                  </label>
                </div>

                {/* Features grid */}
                <div className="grid grid-cols-1 md:grid-cols-3 gap-8 w-full max-w-5xl reveal" style={{ animationDelay: '0.5s' }}>
                  {[
                    { icon: 'lock', title: 'Private', desc: 'Processing happens locally. No images ever leave your browser.' },
                    { icon: 'zap', title: 'Instant', desc: 'Advanced engine converts photos to art in under a second.' },
                    { icon: 'palette', title: 'Artistic', desc: 'Fine-tuned algorithms replicate real graphite shading techniques.' }
                  ].map((f, i) => (
                    <div key={i} className="glass p-8 rounded-3xl text-left border border-white hover:border-primary/20 transition-all hover:bg-white group">
                      <div className="w-12 h-12 bg-white rounded-2xl flex items-center justify-center shadow-sm mb-6 group-hover:scale-110 transition-transform">
                        <i data-lucide={f.icon} className="w-6 h-6 text-primary"></i>
                      </div>
                      <h4 className="text-lg font-extrabold text-slate-900 mb-2">{f.title}</h4>
                      <p className="text-sm text-slate-500 leading-relaxed font-medium">{f.desc}</p>
                    </div>
                  ))}
                </div>
              </div>
            ) : (
              <div className="grid grid-cols-1 lg:grid-cols-12 gap-12 reveal">
                {/* Editor Panel */}
                <div className="lg:col-span-8 flex flex-col gap-8">
                  <div className="group relative rounded-[2.5rem] bg-slate-900 min-h-[500px] border-[12px] border-white shadow-2xl overflow-hidden flex items-center justify-center bg-[url('https://www.transparenttextures.com/patterns/notebook.png')]">
                    {resultSrc ? (
                      <img src={resultSrc} className="max-h-[80vh] w-full h-full object-contain drop-shadow-2xl" alt="Sketch Result" />
                    ) : (
                      <div className="flex flex-col items-center gap-6">
                        <div className="w-14 h-14 border-[5px] border-primary border-t-transparent rounded-full animate-spin"></div>
                        <p className="text-white/50 font-bold tracking-widest text-xs uppercase">Rendering Your Art...</p>
                      </div>
                    )}

                    {processing && (
                      <div className="absolute inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center">
                        <div className="px-8 py-4 bg-white rounded-3xl shadow-2xl flex items-center gap-4 animate-bounce">
                          <i data-lucide="pencil" className="w-5 h-5 text-primary animate-pulse"></i>
                          <span className="font-bold text-slate-900">Artist at work...</span>
                        </div>
                      </div>
                    )}
                  </div>

                  <div className="flex items-center justify-between">
                    <div className="flex gap-4">
                      <button
                        className="px-8 py-4 bg-primary text-white rounded-2xl font-bold flex items-center gap-3 shadow-[0_10px_30px_rgba(37,99,235,0.4)] hover:shadow-[0_15px_40px_rgba(37,99,235,0.5)] hover:-translate-y-1 transition-all active:translate-y-0"
                        onClick={() => {
                          const a = document.createElement('a');
                          a.href = resultSrc;
                          a.download = 'sketch-art.png';
                          a.click();
                        }}
                      >
                        <i data-lucide="download" className="w-5 h-5"></i>
                        Download Masterpiece
                      </button>
                    </div>
                    <div className="flex items-center gap-2 text-slate-400">
                      <i data-lucide="info" className="w-4 h-4"></i>
                      <span className="text-xs font-bold uppercase tracking-widest">High Resolution Export</span>
                    </div>
                  </div>
                </div>

                {/* Sidebar Controls */}
                <div className="lg:col-span-4 flex flex-col gap-8">
                  <div className="glass p-10 rounded-[2.5rem] border border-white shadow-xl space-y-10">
                    <div className="flex items-center gap-3 pb-6 border-b border-slate-100">
                      <div className="w-10 h-10 bg-primary/10 rounded-xl flex items-center justify-center">
                        <i data-lucide="settings-2" className="w-5 h-5 text-primary"></i>
                      </div>
                      <h3 className="text-xl font-bold text-slate-900 tracking-tight">Artistic Controls</h3>
                    </div>

                    <div className="space-y-10">
                      {[
                        { label: 'Sketch Strength', key: 'intensity', icon: 'zap', min: 1, max: 60 },
                        { label: 'Deep Contrast', key: 'contrast', icon: 'moon', min: -50, max: 50 },
                        { label: 'Exposure', key: 'brightness', icon: 'sun', min: -50, max: 50 },
                      ].map(s => (
                        <div key={s.key} className="space-y-4">
                          <div className="flex justify-between items-center">
                            <div className="flex items-center gap-2 text-slate-500">
                              <i data-lucide={s.icon} className="w-4 h-4 text-slate-400"></i>
                              <label className="text-[10px] font-black uppercase tracking-widest">{s.label}</label>
                            </div>
                            <span className="text-primary font-display font-black text-xl">{options[s.key]}</span>
                          </div>
                          <input
                            type="range"
                            min={s.min}
                            max={s.max}
                            value={options[s.key]}
                            onChange={e => setOptions({ ...options, [s.key]: parseInt(e.target.value) })}
                          />
                        </div>
                      ))}

                      <div className="p-1 bg-slate-100/50 rounded-2xl">
                        <button
                          onClick={() => setOptions({ ...options, colorMode: !options.colorMode })}
                          className={`w-full p-4 rounded-xl flex items-center justify-between transition-all font-bold text-sm ${options.colorMode ? 'bg-white shadow-sm text-primary' : 'text-slate-500'}`}
                        >
                          <div className="flex items-center gap-3">
                            <i data-lucide="palette" className="w-5 h-5"></i>
                            Color Overlay
                          </div>
                          <div className={`w-10 h-5 rounded-full relative transition-colors ${options.colorMode ? 'bg-primary' : 'bg-slate-300'}`}>
                            <div className={`absolute top-1 w-3 h-3 bg-white rounded-full transition-all ${options.colorMode ? 'left-6' : 'left-1'}`}></div>
                          </div>
                        </button>
                        {options.colorMode && (
                          <div className="p-4 pt-2 space-y-3">
                            <div className="flex justify-between text-[10px] font-black uppercase text-slate-400 tracking-widest">
                              <span>Strength</span>
                              <span>{options.colorStrength}%</span>
                            </div>
                            <input
                              type="range"
                              min="1" max="100"
                              value={options.colorStrength}
                              onChange={e => setOptions({ ...options, colorStrength: parseInt(e.target.value) })}
                            />
                          </div>
                        )}
                      </div>
                    </div>
                  </div>

                  {/* Texture Selection */}
                  <div className="glass p-8 rounded-[2.5rem] border border-white shadow-xl space-y-6">
                    <div className="flex items-center gap-2 text-slate-400">
                      <i data-lucide="layers" className="w-4 h-4"></i>
                      <span className="text-[10px] font-black uppercase tracking-widest">Base Texture</span>
                    </div>
                    <div className="grid grid-cols-2 gap-3">
                      {['none', 'parchment', 'canvas', 'notebook'].map(t => (
                        <button
                          key={t}
                          onClick={() => setTexture(t)}
                          className={`py-4 rounded-2xl text-[10px] font-black uppercase tracking-widest transition-all border-2 ${texture === t ? 'bg-primary text-white border-primary shadow-lg shadow-primary/20 scale-105' : 'bg-white text-slate-500 border-slate-50 hover:border-slate-200'}`}
                        >
                          {t}
                        </button>
                      ))}
                    </div>
                  </div>
                </div>
              </div>
            )}
          </main>

          <footer className="w-full py-12 text-center border-t border-slate-100 bg-white/50 mt-12">
            <div className="container max-w-6xl mx-auto px-8 flex flex-col items-center gap-6">
              <div className="flex items-center gap-2 opacity-30 grayscale">
                <i data-lucide="pencil" className="w-4 h-4"></i>
                <span className="text-sm font-display font-bold tracking-tight">Sketchify Studio</span>
              </div>
              <p className="text-[10px] font-black text-slate-400 uppercase tracking-[0.3em]">
                Privacy First · 100% Client-Side Engine · Precision Processing
              </p>
            </div>
          </footer>
        </div>
      );
    };

    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<App />);
  </script>
</body>

</html>